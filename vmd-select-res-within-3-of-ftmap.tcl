#load all ftmap and sitemap data, then this adds reps of residues near ftmap spheres
proc within-ftmap { number_of_files } {

#represent residues in licorice based on name
mol rep licorice
mol color name

#for holo-md-bound this eliminates active site residues and h3 peptide
mol selection chain A and same residue as (within 3 of residuetype nothing) and not residue 0 and not residue 16 and not residue 113 and not residue 114 and not residue 115 and not residue 116 and not residue 117 and not residue 118 and not residue 119 and not residue 136 and not residue 137 and not residue 138 and not residue 139 and not residue 143 and not residue 144 and not residue 145 and not residue 146 and not residue 147 and not residue 149 and not residue 158 and not residue 159 and not residue 160 and not residue 161 and not residue 162 and not residue 163 and not residue 164 and not residue 165 and not residue 166 and not residue 171 and not residue 185 and not residue 186 and not residue 187 and not residue 188 and not residue 189 and not residue 190 and not residue 191 and not residue 199 and not residue 201 and not residue 203 and not residue 204 and not residue 205 and not residue 206 and not residue 207 and not residue 208 and not residue 209 and not residue 210 and not residue 211 and not residue 212 and not residue 213 and not residue 215 and not residue 216 and not residue 217 and not residue 218 and not residue 219 and not residue 220 and not residue 222 and not residue 223 and not residue 224 and not residue 357 and not residue 360 and not residue 361 and not residue 364 and not residue 365 and not residue 367 and not residue 368 and not residue 369 and not residue 371 and not residue 380 and not residue 381 and not residue 382 and not residue 383 and not residue 384 and not residue 385 and not residue 386 and not residue 387 and not residue 388 and not residue 389 and not residue 390 and not residue 391 and not residue 392 and not residue 393 and not residue 394 and not residue 400 and not residue 417 and not residue 418 and not residue 419 and not residue 420 and not residue 453 and not residue 454 and not residue 455 and not residue 458 and not residue 464 and not residue 465 and not residue 466 and not residue 488 and not residue 489 and not residue 490 and not residue 506 and not residue 521 and not residue 522 and not residue 524 and not residue 535 and not residue 578 and not residue 580 and not residue 585 and not residue 586 and not residue 587 and not residue 588 and not residue 589 and not residue 590 and not residue 591 and not residue 593 and not residue 628 and not residue 629 and not residue 630 and not residue 631 and not residue 634 and not residue 635 and not residue 636 and not residue 637 and not residue 638 and not residue 639 and not residue 640 and not residue 641 and not residue 643 and not residue 644 and not residue 799 to 814

#add the representation
for {set i 1} {$i<[expr $number_of_files +1]} {incr i} {
	mol addrep $i

}

#save a pdb file for each with the residues
for {set j 1} {$j<[expr $number_of_files + 1]} {incr j} {
	[atomselect $j "chain A and same residue as (within 3 of residuetype nothing) and not residue 0 and not residue 16 and not residue 113 and not residue 114 and not residue 115 and not residue 116 and not residue 117 and not residue 118 and not residue 119 and not residue 136 and not residue 137 and not residue 138 and not residue 139 and not residue 143 and not residue 144 and not residue 145 and not residue 146 and not residue 147 and not residue 149 and not residue 158 and not residue 159 and not residue 160 and not residue 161 and not residue 162 and not residue 163 and not residue 164 and not residue 165 and not residue 166 and not residue 171 and not residue 185 and not residue 186 and not residue 187 and not residue 188 and not residue 189 and not residue 190 and not residue 191 and not residue 199 and not residue 201 and not residue 203 and not residue 204 and not residue 205 and not residue 206 and not residue 207 and not residue 208 and not residue 209 and not residue 210 and not residue 211 and not residue 212 and not residue 213 and not residue 215 and not residue 216 and not residue 217 and not residue 218 and not residue 219 and not residue 220 and not residue 222 and not residue 223 and not residue 224 and not residue 357 and not residue 360 and not residue 361 and not residue 364 and not residue 365 and not residue 367 and not residue 368 and not residue 369 and not residue 371 and not residue 380 and not residue 381 and not residue 382 and not residue 383 and not residue 384 and not residue 385 and not residue 386 and not residue 387 and not residue 388 and not residue 389 and not residue 390 and not residue 391 and not residue 392 and not residue 393 and not residue 394 and not residue 400 and not residue 417 and not residue 418 and not residue 419 and not residue 420 and not residue 453 and not residue 454 and not residue 455 and not residue 458 and not residue 464 and not residue 465 and not residue 466 and not residue 488 and not residue 489 and not residue 490 and not residue 506 and not residue 521 and not residue 522 and not residue 524 and not residue 535 and not residue 578 and not residue 580 and not residue 585 and not residue 586 and not residue 587 and not residue 588 and not residue 589 and not residue 590 and not residue 591 and not residue 593 and not residue 628 and not residue 629 and not residue 630 and not residue 631 and not residue 634 and not residue 635 and not residue 636 and not residue 637 and not residue 638 and not residue 639 and not residue 640 and not residue 641 and not residue 643 and not residue 644 and not residue 799 to 814"] writepdb residues-within-3-of-ftmap-$j.pdb
}

}
